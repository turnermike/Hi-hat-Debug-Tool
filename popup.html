<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hi-hat Debug Tool</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body style="width: 460px; min-height: 300px;">
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <img src="icon32.png" alt="Hi-hat Logo" class="logo">
        <div>
          <h1 class="title">Hi-hat Debug Tool</h1>
          <p class="subtitle">Development utilities</p>
        </div>
      </div>
    </div>
    
    <!-- Main Actions -->
    <div class="button-grid">
      <table class="button-table">
        <tr>
          <td class="button-cell">
            <button id="addDebugBtn" class="action-button debug-button">
              <svg class="button-icon debug-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span class="button-label">Debug</span>
            </button>
          </td>
          <td class="button-cell">
            <button id="clearFormsBtn" class="action-button clear-button">
              <svg class="button-icon clear-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
              </svg>
              <span class="button-label">Clear</span>
            </button>
          </td>
          <td class="button-cell">
            <button id="measureBtn" class="action-button measure-button">
              <svg class="button-icon measure-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 13H8"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 17H8"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9H8"></path>
              </svg>
              <span class="button-label">Measure</span>
            </button>
          </td>
        </tr>
        <tr>
          <td class="button-cell">
            <button id="scanBtn" class="action-button scan-button">
              <svg class="button-icon scan-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
              </svg>
              <span class="button-label">Scan</span>
            </button>
          </td>
          <td class="button-cell">
            <button id="resetParamsBtn" class="action-button reset-button">
              <svg class="button-icon reset-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
              <span class="button-label">Reset</span>
            </button>
          </td>
          <td class="button-cell">
            <!-- Empty cells for layout -->
          </td>
        </tr>
      </table>
    </div>
    
    <!-- WordPress Debug Section -->
    <div id="wordpressSection" class="wordpress-section" style="display: none;">
      <div class="section-header">
        <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
        </svg>
        <span class="section-title">WordPress Debug</span>
      </div>
      
      <div class="wp-button-grid">
        <table class="wp-button-table">
          <tr>
            <td class="wp-button-cell">
              <button id="wpDebugBtn" class="wp-button wp-debug">
                <span class="wp-button-label">WP Debug</span>
              </button>
            </td>
            <td class="wp-button-cell">
              <button id="wpQueryBtn" class="wp-button wp-query">
                <span class="wp-button-label">Query Debug</span>
              </button>
            </td>
            <td class="wp-button-cell">
              <!-- Empty cell for layout -->
            </td>
          </tr>
          <tr>
            <td class="wp-button-cell">
              <button id="wpCacheBtn" class="wp-button wp-cache">
                <span class="wp-button-label">No Cache</span>
              </button>
            </td>
            <td class="wp-button-cell">
              <!-- Empty cell for layout -->
            </td>
            <td class="wp-button-cell">
              <!-- Empty cell for layout -->
            </td>
          </tr>
          <!-- User Switching Row (shown only when plugin detected) -->
          <tr id="userSwitchingRow" style="display: none;">
            <td class="wp-button-cell">
              <button id="wpSwitchAdminBtn" class="wp-button wp-switch-user">
                <span class="wp-button-label">Admin</span>
              </button>
            </td>
            <td class="wp-button-cell">
              <button id="wpSwitchEditorBtn" class="wp-button wp-switch-user">
                <span class="wp-button-label">Editor</span>
              </button>
            </td>
            <td class="wp-button-cell">
              <button id="wpSwitchOffBtn" class="wp-button wp-switch-user">
                <span class="wp-button-label">Switch Off</span>
              </button>
            </td>
          </tr>
        </table>
      </div>
    </div>
    
    <!-- Vulnerability Scan Results -->
    <div id="scanResultsSection" class="scan-results-section" style="display: none;">
      <div class="section-header">
        <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
        </svg>
        <span class="section-title">Security Scan</span>
      </div>
      
      <div id="scanResults" class="scan-results">
        <!-- Scan results will be populated here -->
      </div>
      
      <div class="scan-actions">
        <button id="rescanBtn" class="scan-action-btn rescan-btn">Re-scan</button>
        <button id="clearResultsBtn" class="scan-action-btn clear-btn">Clear</button>
      </div>
    </div>
    
    <!-- Status Message -->
    <div id="status" class="status-message status-hidden"></div>
    
    <!-- Footer -->
    <div class="footer">
      <div class="footer-content">
        <span>Hi-hat Consulting</span>
        <span>v1.1</span>
      </div>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
